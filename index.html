<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><title>FF Events</title><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="color-scheme" content="light dark"><meta name="description" content="FF Events - Track live, upcoming, and ended Free Fire events across regions."/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"><style>:root{--primary-color:#ff5722;--secondary-color:#2196f3;--bg-color:#f5f5f5;--card-bg:#fff;--text-color:#222;--border-color:#e6e6e6;--shadow:0 6px 18px rgba(0,0,0,0.08);--live-color:#f44336;--upcoming-color:#ff9800;--ended-color:#9e9e9e;--shimmer-color:#e9e9e9;--shimmer-highlight:#f6f6f6;--filter-btn-color:#222;font-family:'Inter',system-ui,Segoe UI,Roboto,sans-serif}.dark-mode{--bg-color:#050507;--card-bg:#0f1113;--text-color:#f0f0f0;--border-color:#1f2022;--shadow:0 6px 24px rgba(0,0,0,0.6);--shimmer-color:#111;--shimmer-highlight:#1a1a1a;--filter-btn-color:#f0f0f0}*{box-sizing:border-box;margin:0;padding:0}body{background:var(--bg-color);color:var(--text-color);transition:background .25s,color .25s,font-size .25s;font-size:14px}.container{max-width:1200px;margin:18px auto;padding:12px}header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px;position:sticky;top:8px;background:var(--card-bg);z-index:50;padding:10px;border-radius:12px;border:1px solid var(--border-color);box-shadow:var(--shadow)}h1{color:var(--primary-color);font-size:1.25rem;margin-right:8px}.controls{display:flex;gap:8px;align-items:center}.language-selector{padding:8px 10px;border-radius:8px;border:1px solid var(--border-color);background:transparent;color:var(--text-color);font-size:1rem}.bulb-toggle{width:46px;height:46px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;border:1px solid var(--border-color);font-size:1.2rem}.region-slider{display:flex;gap:10px;overflow-x:auto;padding:8px 0;margin-bottom:12px}.region-button{padding:8px 14px;border-radius:20px;border:1px solid var(--border-color);background:transparent;color:var(--text-color);white-space:nowrap;cursor:pointer;flex:0 0 auto}.region-button.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color);transform:translateY(-2px)}.toolbar{display:flex;gap:10px;align-items:center;margin-bottom:12px;flex-wrap:wrap}.search-input{padding:10px 12px;border-radius:10px;border:1px solid var(--border-color);min-width:220px;background:var(--card-bg);color:var(--text-color);font-size:1rem}.filter-group{display:flex;gap:8px;align-items:center}.filter-btn{padding:8px 10px;border-radius:8px;border:1px solid var(--border-color);background:transparent;cursor:pointer;font-size:.95rem;color:var(--filter-btn-color)}.filter-btn.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.toggle{display:flex;align-items:center;gap:6px;color:var(--filter-btn-color)}.count-badge{background:transparent;border:1px solid var(--border-color);padding:6px 8px;border-radius:8px;font-size:.9rem}.section-title{margin:12px 0 8px;padding-bottom:6px;border-bottom:2px solid var(--primary-color);font-size:1.02rem;display:flex;justify-content:space-between;align-items:center}.events-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:14px}.event-card{background:var(--card-bg);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);cursor:pointer;transform:translateY(8px);opacity:0;animation:cardIn 420ms forwards;transition:transform .25s}.event-card:hover{transform:translateY(-6px)scale(1.01)}@keyframes cardIn{to{transform:none;opacity:1}}.image-container{position:relative;height:160px;background:linear-gradient(90deg,var(--shimmer-color),var(--shimmer-highlight));overflow:hidden;display:flex;align-items:center;justify-content:center}.event-image{width:100%;height:100%;object-fit:cover;display:block;opacity:0;transition:opacity .35s ease,transform .35s ease}.event-image.loaded{opacity:1;transform:translateY(0)}.shimmer{position:absolute;inset:0;background:linear-gradient(90deg,var(--shimmer-color)0%,var(--shimmer-highlight)50%,var(--shimmer-color)100%);background-size:200% 100%;animation:shimmer 1.4s infinite}@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}.event-status{position:absolute;top:10px;right:10px;padding:6px 10px;border-radius:999px;font-weight:700;color:#fff;text-transform:uppercase;font-size:.72rem;white-space:nowrap}.live{background:var(--live-color);box-shadow:0 2px 10px rgba(244,67,54,.18);animation:livePulse 1.8s infinite}@keyframes livePulse{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}.upcoming{background:var(--upcoming-color)}.ended{background:var(--ended-color)}.event-content{padding:12px 14px;display:flex;flex-direction:column;min-height:150px}.event-title{font-size:1.02rem;margin-bottom:8px;line-height:1.2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word}.event-dates{display:flex;justify-content:space-between;color:#777;font-size:.82rem;margin-bottom:8px}.event-description{font-size:.9rem;color:var(--text-color);line-height:1.35;max-height:60px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;transition:max-height .25s ease;margin-bottom:8px}.event-description.expanded{max-height:1000px;display:block;-webkit-line-clamp:unset}.event-link{display:inline-block;margin-top:10px;padding:7px 12px;border-radius:8px;background:var(--secondary-color);color:#fff;text-decoration:none;font-weight:600;font-size:.95rem}.event-footer{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.uid-badge{font-size:.78rem;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,.03);color:var(--text-color);white-space:nowrap}.action-bar{display:flex;gap:8px;align-items:center}.icon-btn{padding:6px 8px;border-radius:8px;border:1px solid var(--border-color);background:transparent;cursor:pointer;font-size:.95rem;color:var(--filter-btn-color)}.icon-btn.star{font-weight:700}.icon-btn.copy{min-width:36px}.loading{text-align:center;padding:28px;font-size:1.05rem}.error{text-align:center;padding:28px;color:var(--live-color);font-weight:700}.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:1100;padding:28px;overflow:auto}.modal-content{max-width:880px;margin:40px auto;background:var(--card-bg);border-radius:12px;overflow:hidden;box-shadow:0 12px 40px rgba(0,0,0,.4)}.modal-header{display:flex;justify-content:space-between;padding:14px 18px;border-bottom:1px solid var(--border-color)}.modal-body{padding:18px}.modal-image{width:100%;max-height:420px;object-fit:contain;border-radius:6px;margin-bottom:14px}.close-modal{background:none;border:0;font-size:20px;cursor:pointer;color:var(--text-color)}.modal-status{display:inline-block;padding:6px 10px;border-radius:8px;font-weight:700;color:#fff;margin-bottom:12px;white-space:nowrap}.modal-link{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:10px;background:var(--primary-color);color:#fff;text-decoration:none;font-weight:600}.see-more{background:none;border:0;color:var(--primary-color);font-weight:700;cursor:pointer;padding:6px 8px;border-radius:6px}.see-more:focus{outline:2px solid rgba(0,0,0,.06)}.favorite-on{color:gold}@media (max-width:768px){.events-grid{grid-template-columns:1fr}.image-container{height:160px}}.hidden{display:none!important}</style>
</head>
<body>
<div class="container">
<header>
<div style="display:flex;align-items:center;gap:8px"><h1 id="dashboardTitle">FF Events</h1></div>
<div class="controls">
<label class="sr-only" for="languageSelector">Lang</label>
<select id="languageSelector" class="language-selector" aria-label="Language selector"></select>
<div id="themeToggle" class="bulb-toggle" title="Toggle theme" role="button" aria-pressed="false">ðŸŒ“</div>
</div>
</header>
<div id="regionSlider" class="region-slider" aria-label="Regions"></div>
<div class="toolbar">
<input id="searchBox" class="search-input" placeholder="Search events or descriptions..." aria-label="Search events"/>
<div class="filter-group" role="radiogroup" aria-label="Status filter">
<button class="filter-btn active" data-filter="all">All</button>
<button class="filter-btn" data-filter="live">Live</button>
<button class="filter-btn" data-filter="upcoming">Upcoming</button>
<button class="filter-btn" data-filter="ended">Ended</button>
</div>
<div class="toggle"><label><input type="checkbox" id="onlyFavorites"> Favorites</label></div>
<div class="toggle"><label><input type="checkbox" id="autoRefresh"> Auto-refresh</label></div>
<button id="exportBtn" class="filter-btn" title="Export visible events as JSON">Export JSON</button>
<select id="sortSelect" class="filter-btn" aria-label="Sort"><option value="new">Newest</option><option value="old">Oldest</option></select>
</div>
<h2 class="section-title" id="eventsTitle">Events <small id="eventsCount" style="opacity:.7;font-size:.85rem;margin-left:8px"></small></h2>
<div id="eventsContainer" class="events-grid"><div class="loading">Loading events...</div></div>
<h2 class="section-title" id="updatesTitle">Updates <small id="updatesCount" style="opacity:.7;font-size:.85rem;margin-left:8px"></small></h2>
<div id="updatesContainer" class="events-grid"><div class="loading">Loading updates...</div></div>
</div>
<div id="eventModal" class="modal" aria-hidden="true">
<div class="modal-content">
<div class="modal-header">
<h3 id="modalTitle">Event Title</h3>
<button id="closeModal" class="close-modal" aria-label="Close">&times;</button>
</div>
<div class="modal-body">
<img id="modalImage" class="modal-image" src="" alt="">
<div id="modalStatus" class="modal-status"></div>
<div style="display:flex;justify-content:space-between;margin-bottom:12px">
<div id="modalStartDate"></div>
<div id="modalEndDate"></div>
</div>
<div id="modalDescription" style="white-space:pre-line;"></div>
<a id="modalLink" class="modal-link" href="#" target="_blank" rel="noopener noreferrer" style="display:none">Open Link</a>
</div>
</div>
</div>
<script>

const languageSelector=document.getElementById('languageSelector');
Object.keys(translations).forEach(lang=>{const opt=document.createElement('option');opt.value=lang;opt.textContent=lang.toUpperCase();languageSelector.appendChild(opt)});
let currentLanguage=localStorage.getItem('language')||'English';
languageSelector.value=currentLanguage;
function getTranslation(key){return(translations[currentLanguage]&&translations[currentLanguage][key])||translations['English'][key]||key}
function updateUI(){
document.getElementById('dashboardTitle').textContent=getTranslation('dashboardTitle');
document.getElementById('searchBox').placeholder=getTranslation('searchPlaceholder');
const evT=document.getElementById('eventsTitle');if(evT&&evT.childNodes.length>0){evT.childNodes[0].textContent=getTranslation('events')+' '}
const upT=document.getElementById('updatesTitle');if(upT&&upT.childNodes.length>0){upT.childNodes[0].textContent=getTranslation('updates')+' '}}
languageSelector.addEventListener('change',()=>{currentLanguage=languageSelector.value;localStorage.setItem('language',currentLanguage);updateUI();fetchData()});
updateUI();
const regions=[{code:'IND',name:'INDIA (IND)'},{code:'SG',name:'SINGAPORE (SG)'},{code:'ME',name:'MIDDLE EAST (ME)'},{code:'BR',name:'BRAZIL (BR)'},{code:'BD',name:'BANGLADESH (BD)'},{code:'PK',name:'PAKISTAN (PK)'},{code:'VN',name:'VIETNAM (VN)'},{code:'US',name:'UNITED STATES (US)'},{code:'TW',name:'TAIWAN (TW)'},{code:'SAC',name:'SOUTH AMERICA (SAC)'},{code:'RU',name:'RUSSIA (RU)'},{code:'ID',name:'INDONESIA (ID)'},{code:'NA',name:'NORTH AMERICA (NA)'},{code:'TH',name:'THAILAND (TH)'},{code:'EUROPE',name:'EUROPE (EU)'}];
const regionSlider=document.getElementById('regionSlider');
let currentRegion=localStorage.getItem('region')||'IND';
regions.forEach(region=>{
const btn=document.createElement('button');
btn.className='region-button'+(region.code===currentRegion?' active':'');
btn.dataset.region=region.code;
btn.textContent=region.name;
btn.addEventListener('click',()=>{
document.querySelectorAll('.region-button').forEach(b=>b.classList.remove('active'));
btn.classList.add('active');
currentRegion=region.code;
localStorage.setItem('region',currentRegion);
fetchData()});
regionSlider.appendChild(btn)});
const themeToggle=document.getElementById('themeToggle');
if(!localStorage.getItem('theme')){localStorage.setItem('theme','dark')}
if(localStorage.getItem('theme')==='dark'){document.body.classList.add('dark-mode');themeToggle.setAttribute('aria-pressed','true')}
themeToggle.addEventListener('click',()=>{const isDark=document.body.classList.toggle('dark-mode');localStorage.setItem('theme',isDark?'dark':'light');themeToggle.setAttribute('aria-pressed',String(isDark))});
function escapeHtml(unsafe){return String(unsafe).replace(/[&<>\"']/g,function(m){return({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',"'":'&#039;'})[m]})}
function cleanString(str,maxLen=800){if(!str)return'';str=String(str).replace(/\\r\\n|\\r|\\n/g,'\\n').replace(/\\+/g,'\\\\');str=str.replace(/[\\#]/g,'');str=str.replace(/\\n{3,}/g,'\\n\\n');if(str.length>maxLen){str=str.slice(0,maxLen)+'...'}return escapeHtml(str).replace(/\\n/g,'<br>')}
function generateUID(seed){seed=seed||(Date.now()+Math.random()).toString();let hash=2166136261>>>0;for(let i=0;i<seed.length;i++){hash=Math.imul(hash^seed.charCodeAt(i),16777619)>>>0}return'UID-'+(hash%1000000).toString().padStart(6,'0')}
const FALLBACK_IMAGE='https://raw.githubusercontent.com/KillerSharmaBot/Events/main/Image%20Not%20Found.png';
function imageLoaded(img){const parent=img.parentElement;const shimmer=parent.querySelector('.shimmer');if(shimmer)shimmer.remove();img.classList.add('loaded')}
function imageError(img){const parent=img.parentElement;const shimmer=parent.querySelector('.shimmer');if(shimmer)shimmer.remove();img.onerror=null;img.src=FALLBACK_IMAGE;img.classList.add('loaded');}
let eventsData=[];
let updatesData=[];
let activeFilter='all';
let sortMode='new';
function favSet(){const favs=localStorage.getItem('ff_favs');return favs?JSON.parse(favs):[]}
function favSave(arr){localStorage.setItem('ff_favs',JSON.stringify(arr))}
function isFavorite(id){return favSet().includes(id)}
function toggleFavorite(id,btn){const favs=favSet();const idx=favs.indexOf(id);if(idx===-1){favs.push(id)}else{favs.splice(idx,1)}favSave(favs);if(btn)btn.classList.toggle('favorite-on',idx===-1)}
function createEventCard(item){
const now=Math.floor(Date.now()/1000);
const start=parseInt(item.Start||item.start||0,10)||0;
const end=parseInt(item.End||item.end||0,10)||0;
let status=getTranslation('ended');
let statusClass='ended';
if(now<start){status=getTranslation('upcoming');statusClass='upcoming'}else if(now<=end){status=getTranslation('live');statusClass='live'}
const startDate=start?new Date(start*1000).toLocaleDateString():'-';
const endDate=end?new Date(end*1000).toLocaleDateString():'-';
const rawTitle=item.Title||item.title||'Untitled';
const title=cleanString(rawTitle,140);
const rawDesc=item.Details||item.Description||item.description||'';
const description=cleanString(rawDesc||getTranslation('noDescription'),2000);
const uid=generateUID(rawTitle+(item.Link||item.LinkAlt||''));
const candidate=(item.LinkAlt&&String(item.LinkAlt))||(item.Link&&String(item.Link))||(item.link&&String(item.link));
const link=(candidate&&candidate.startsWith('https'))?candidate:'';
const hasHttpsLink=Boolean(link);
const banner=item.Banner||item.Image||item.image||FALLBACK_IMAGE;
return`<div class="event-card" data-id="${uid}" data-has-link="${hasHttpsLink}" tabindex="0" aria-label="Event card: ${escapeHtml(rawTitle)}"><div class="image-container"><img loading="lazy" class="event-image" src="${escapeHtml(banner)}" alt="${escapeHtml(rawTitle)}" onload="imageLoaded(this)" onerror="imageError(this)"><div class="shimmer"></div><div class="event-status ${statusClass}">${status}</div></div><div class="event-content"><div style="display:flex;justify-content:space-between;align-items:flex-start;gap:8px"><h3 class="event-title">${title}</h3><div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end"><button class="icon-btn star" data-id="${uid}" title="Toggle favorite" aria-label="Toggle favorite">${isFavorite(uid)?'â˜…':'â˜†'}</button><div class="uid-badge" title="Card UID">${uid}</div></div></div><div class="event-dates"><span>${getTranslation('start')}: ${startDate}</span><span>${getTranslation('end')}: ${endDate}</span></div><div class="event-description" data-full="${escapeHtml(rawDesc)}">${description}</div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">${hasHttpsLink?`<a class="event-link" href="${escapeHtml(link)}" target="_blank" rel="noopener noreferrer">${getTranslation('viewDetails')}</a>`:`<div style="height:36px"></div>`}<div class="action-bar"><button class="icon-btn copy" data-link="${escapeHtml(link)}" title="Copy link" aria-label="Copy link">Copy</button><button class="icon-btn share" data-link="${escapeHtml(link)}" title="Share" aria-label="Share">Share</button></div></div></div></div>`}
const eventsContainer=document.getElementById('eventsContainer');
const updatesContainer=document.getElementById('updatesContainer');
const eventsCount=document.getElementById('eventsCount');
const updatesCount=document.getElementById('updatesCount');
function sortItems(items){return items.slice().sort((a,b)=>{const as=parseInt(a.Start||a.start||0,10)||0;const bs=parseInt(b.Start||b.start||0,10)||0;return sortMode==='new'?(bs-as):(as-bs)})}
function render(){
const query=(document.getElementById('searchBox').value||'').toLowerCase().trim();
const onlyFav=document.getElementById('onlyFavorites').checked;
const filter=activeFilter;
const filteredEvents=sortItems(eventsData).filter(item=>{
const title=(item.Title||item.title||'').toLowerCase();
const desc=(item.Details||item.Description||item.description||'').toLowerCase();
if(onlyFav){const uid=generateUID((item.Title||item.title||'')+(item.Link||item.LinkAlt||''));if(!isFavorite(uid))return false}
const now=Math.floor(Date.now()/1000);
const start=parseInt(item.Start||item.start||0,10)||0;
const end=parseInt(item.End||item.end||0,10)||0;
if(filter==='live'&&!(now>=start&&now<=end))return false;
if(filter==='upcoming'&&!(now<start))return false;
if(filter==='ended'&&!(now>end))return false;
if(query){if(!(title.includes(query)||desc.includes(query)))return false}
return true});
const filteredUpdates=sortItems(updatesData).filter(item=>{
const title=(item.Title||item.title||'').toLowerCase();
const desc=(item.Details||item.Description||item.description||'').toLowerCase();
if(query&&!(title.includes(query)||desc.includes(query)))return false;
return true});
if(filteredEvents.length){eventsContainer.innerHTML=filteredEvents.map(e=>createEventCard(e)).join('')}else{eventsContainer.innerHTML=`<div class="loading">${getTranslation('noEvents')}</div>`}
if(filteredUpdates.length){updatesContainer.innerHTML=filteredUpdates.map(e=>createEventCard(e)).join('')}else{updatesContainer.innerHTML=`<div class="loading">${getTranslation('noUpdates')}</div>`}
eventsCount.textContent=`(${filteredEvents.length})`;
updatesCount.textContent=`(${filteredUpdates.length})`}
async function fetchData(){
eventsContainer.innerHTML=`<div class="loading">${getTranslation('loading')}</div>`;
updatesContainer.innerHTML=`<div class="loading">${getTranslation('loading')}</div>`;
try{const response=await fetch(`https://raw.githubusercontent.com/KillerSharmaBot/Event/main/event_${currentRegion.toLowerCase()}.json`);const data=await response.json();eventsData=(data.events&&data.events.items)||[];updatesData=(data.updates&&data.updates.items)||[];render()}catch(e){eventsContainer.innerHTML=`<div class="error">${getTranslation('error')}</div>`;updatesContainer.innerHTML=`<div class="error">${getTranslation('error')}</div>`}}
document.getElementById('searchBox').addEventListener('input',render);
document.querySelectorAll('.filter-btn').forEach(btn=>{btn.addEventListener('click',()=>{document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');activeFilter=btn.dataset.filter||'all';render()})});
document.getElementById('onlyFavorites').addEventListener('change',render);
document.getElementById('sortSelect').addEventListener('change',(e)=>{sortMode=e.target.value;render()});
document.getElementById('autoRefresh').addEventListener('change',(e)=>{if(e.target.checked){autoRefresh=setInterval(fetchData,60000)}else{clearInterval(autoRefresh);autoRefresh=null}});
document.getElementById('exportBtn').addEventListener('click',()=>{
const cards=document.querySelectorAll('#eventsContainer .event-card');
const visibleEvents=Array.from(cards).map(card=>({uid:card.dataset.id,hasLink:card.dataset.hasLink==='true',title:card.querySelector('.event-title').textContent||''}));
const payload={region:currentRegion,language:currentLanguage,events:visibleEvents};
const blob=new Blob([JSON.stringify(payload,null,2)],{type:'application/json'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');
a.href=url;
a.download=`ff_events_${currentRegion}_${Date.now()}.json`;
document.body.appendChild(a);
a.click();
a.remove();
URL.revokeObjectURL(url)});
document.addEventListener('click',async(e)=>{
const starBtn=e.target.closest('.icon-btn.star');
if(starBtn){const id=starBtn.dataset.id;toggleFavorite(id,starBtn);starBtn.textContent=isFavorite(id)?'â˜…':'â˜†';return}
const copyBtn=e.target.closest('.icon-btn.copy');
if(copyBtn){const link=copyBtn.dataset.link;if(link){await navigator.clipboard.writeText(link);copyBtn.textContent='Copied';setTimeout(()=>{copyBtn.textContent='Copy'},1200)}return}
const shareBtn=e.target.closest('.icon-btn.share');
if(shareBtn){const link=shareBtn.dataset.link;if(link){if(navigator.share){navigator.share({title:document.title,url:link})}else{await navigator.clipboard.writeText(link);alert('Link copied to clipboard')}}return}
const card=e.target.closest('.event-card');
if(card){
const uid=card.dataset.id;
const title=card.querySelector('.event-title')?.textContent||'';
const img=card.querySelector('.event-image');
const desc=card.querySelector('.event-description')?.dataset.full||card.querySelector('.event-description')?.textContent||'';
const dates=card.querySelector('.event-dates')?.textContent||'';
const linkElement=card.querySelector('.event-link');
document.getElementById('modalTitle').textContent=title;
document.getElementById('modalImage').src=img?img.src:'';
document.getElementById('modalImage').onerror=function(){this.src=FALLBACK_IMAGE};
document.getElementById('modalStatus').textContent=card.querySelector('.event-status')?.textContent||'';
document.getElementById('modalStartDate').textContent=dates.split('\n')[0]||'';
document.getElementById('modalEndDate').textContent=dates.split('\n')[1]||'';
document.getElementById('modalDescription').innerHTML=desc.replace(/\\n/g,'<br>');
if(linkElement){const modalLink=document.getElementById('modalLink');modalLink.href=linkElement.href;modalLink.style.display='inline-block';modalLink.textContent=getTranslation('openLink')}
const modal=document.getElementById('eventModal');
modal.style.display='block';
modal.setAttribute('aria-hidden','false')}});
document.getElementById('closeModal').addEventListener('click',()=>{const modal=document.getElementById('eventModal');modal.style.display='none';modal.setAttribute('aria-hidden','true')});
window.addEventListener('keydown',(e)=>{if(e.key==='Escape'){const modal=document.getElementById('eventModal');if(modal.style.display==='block'){modal.style.display='none';modal.setAttribute('aria-hidden','true')}}});
fetchData();
</script>
</body>
</html>